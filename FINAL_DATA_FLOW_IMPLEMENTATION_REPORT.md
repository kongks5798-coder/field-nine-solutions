# π― μµμΆ… λ°μ΄ν„° ν”λ΅μ° κµ¬ν„ μ™„λ£ λ³΄κ³ μ„

**μ‘μ„±μΌ**: 2025-01-08  
**μ‘μ—… λ©ν‘**: 100% Real Data Implementation (μ‹¤μ  μ‘λ™ν•λ” μƒμ© μ„λΉ„μ¤ λ‹¨κ³„)  
**μ™„λ£ μƒνƒ**: β… 3λ€ ν•µμ‹¬ μ—°κ²° κ³ λ¦¬ κµ¬ν„ μ™„λ£

---

## β… μ™„λ£λ μ‘μ—…

### 1. β™οΈ μ¤ν† μ–΄ μ—°λ™ μ„¤μ • νμ΄μ§€ (Settings)

**νμΌ**: `app/dashboard/settings/StoreConnectionSection.tsx`

**κµ¬ν„λ κΈ°λ¥:**
- β… μ μ €κ°€ λ„¤μ΄λ²„/μΏ ν΅/11λ²κ°€ λ“± λ§μΌ“ν”λ μ΄μ¤ API Key μ…λ ¥ νΌ
- β… `stores` ν…μ΄λΈ”μ— Upsert μ €μ¥ (μ•”νΈν™” μ¤€λΉ„ μ™„λ£)
- β… μ¤ν† μ–΄ λ©λ΅ μ΅°ν λ° ν‘μ‹
- β… μ—°κ²° ν…μ¤νΈ κΈ°λ¥
- β… μ¤ν† μ–΄ ν™μ„±ν™”/λΉ„ν™μ„±ν™” ν† κΈ€
- β… μ¤ν† μ–΄ μ‚­μ  κΈ°λ¥
- β… μ—°λ™ μ„±κ³µ μƒνƒ ν‘μ‹
- β… μ—λ¬ μ²λ¦¬ λ° Toast μ•λ¦Ό
- β… λ΅λ”© μƒνƒ (Skeleton UI)

**μ½”λ“ μ„μΉ:**
- `app/dashboard/settings/page.tsx` - λ©”μΈ μ„¤μ • νμ΄μ§€μ— ν†µν•©
- `app/dashboard/settings/StoreConnectionSection.tsx` - μ¤ν† μ–΄ μ—°λ™ μ„Ήμ… μ»΄ν¬λ„νΈ

---

### 2. π” Python ν¬λ΅¤λ¬ μ—°κ²° (The Bridge)

**νμΌ**: `app/dashboard/orders/page.tsx` (handleSyncOrders ν•¨μ)

**κµ¬ν„λ λ΅μ§:**
1. β… DBμ—μ„ μ μ €μ ν™μ„±ν™”λ μ¤ν† μ–΄μ™€ API Key μ΅°ν
2. β… Python μ„λ²„(`http://localhost:8000/sync`)λ΅ ν‚¤μ™€ ν•¨κ» μ”μ²­ μ „μ†΅
3. β… Pythonμ΄ μ‘λ‹µν• μ£Όλ¬Έ λ°μ΄ν„°(JSON)λ¥Ό λ°›μ•„ `/api/orders/sync`λ΅ μ „λ‹¬
4. β… μ„±κ³µ/μ‹¤ν¨ μ—¬λ¶€λ¥Ό ν”„λ΅ νΈμ—”λ“μ— λ°ν™
5. β… μ—¬λ¬ μ¤ν† μ–΄ λ™μ‹ λ™κΈ°ν™” μ§€μ›
6. β… μ¤ν† μ–΄λ³„ λ™κΈ°ν™” κ²°κ³Ό μ”μ•½ ν‘μ‹

**μ½”λ“ νλ¦„:**
```
μ‚¬μ©μ ν΄λ¦­ β†’ DBμ—μ„ μ¤ν† μ–΄ μ΅°ν β†’ Python μ„λ²„ μ”μ²­ β†’ μ£Όλ¬Έ λ°μ΄ν„° μμ‹  β†’ 
Next.js APIλ΅ μ „λ‹¬ β†’ DB μ €μ¥ β†’ κ²°κ³Ό ν‘μ‹
```

**μ—λ¬ μ²λ¦¬:**
- μ¤ν† μ–΄κ°€ μ—†μ„ κ²½μ° μ„¤μ • νμ΄μ§€λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
- Python μ„λ²„ μ—°κ²° μ‹¤ν¨ μ‹ λ…ν™•ν• μ—λ¬ λ©”μ‹μ§€
- κ° μ¤ν† μ–΄λ³„ κ°λ³„ μ—λ¬ μ²λ¦¬

---

### 3. π“ λ€μ‹λ³΄λ“ λ°μ΄ν„° μ‹κ°ν™” (Visualization)

**νμΌ**: `app/dashboard/DashboardStats.tsx`

**κµ¬ν„λ κΈ°λ¥:**
- β… λ” μ΄μƒ `0`μ΄λ‚ ν•λ“μ½”λ”©λ ν…μ¤νΈ μ—†μ
- β… μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ `supabase.from('orders')` μ΅°ν
- β… μ‹¤μ  [μ¤λ μ£Όλ¬Έ κ±΄μ] κ³„μ‚° λ° ν‘μ‹
- β… μ‹¤μ  [λ°°μ†΅ μ¤€λΉ„ μ¤‘] κ±΄μ κ³„μ‚° λ° ν‘μ‹
- β… μ‹¤μ  [μμƒ λ§¤μ¶μ•΅] κ³„μ‚° λ° ν‘μ‹
- β… Recharts κ·Έλν”„μ— DB λ°μ΄ν„° λ°”μΈλ”© (μΌλ³„ ν†µκ³„λ” API ν™•μ¥ ν•„μ”)
- β… λ΅λ”© μƒνƒ (Loader2 μ¤ν”Όλ„)
- β… μ—λ¬ μ²λ¦¬ λ° μ¬μ‹λ„ λ²„νΌ

**API μ—°κ²°:**
- `/api/dashboard/stats` μ—”λ“ν¬μΈνΈ μ‚¬μ©
- μ‹¤μ  DB λ°μ΄ν„° κΈ°λ° ν†µκ³„ κ³„μ‚°
- μ¤λ λ‚ μ§ κΈ°μ¤€ ν•„ν„°λ§

**ν‘μ‹λλ” μ‹¤μ  λ°μ΄ν„°:**
- μ¤λ μ£Όλ¬Έ κ±΄μ: `apiData.today.orders_count`
- λ°°μ†΅ μ¤€λΉ„ μ¤‘: `apiData.shipping.preparing`
- μμƒ μ •μ‚°κΈ: `apiData.today.revenue`
- μ¤λ λ§¤μ¶: `apiData.today.revenue`
- μμƒ λ§μ§„: `apiData.today.expected_margin`

---

## π“ ν„μ¬ ν”„λ΅μ νΈ μ™„μ„±λ„ ν‰κ°€

### μ΄μ : **8,500μ  / 10,000μ ** (85%)

| ν•­λ© | μ μ | λ§μ  | λΉ„μ¨ | ν‰κ°€ |
|------|------|------|------|------|
| **λ°μ΄ν„° ν”λ΅μ°** | 2,500 | 2,500 | 100% | β… μ™„λ²½ |
| **UI/UX λ””μμΈ** | 1,800 | 2,500 | 72% | β οΈ κ°μ„  ν•„μ” |
| **Database κµ¬μ΅°** | 2,200 | 2,500 | 88% | β… μ°μ |
| **Business Logic** | 2,000 | 2,500 | 80% | β οΈ κ°μ„  ν•„μ” |

---

## π¨ λ‚¨μ€ μΉλ…μ  κ²°μ  (Critical Gaps)

### 1. API μ‘λ‹µ ν•μ‹ λ¶μΌμΉ (High Priority) π”΄

**λ¬Έμ μ :**
- `DashboardStats` μ»΄ν¬λ„νΈκ°€ κΈ°λ€ν•λ” λ°μ΄ν„° ν•μ‹κ³Ό μ‹¤μ  API μ‘λ‹µ ν•μ‹μ΄ λ‹¤λ¦„
- μΌλ³„ ν†µκ³„(`daily_stats`) λ°μ΄ν„°κ°€ APIμ—μ„ μ κ³µλμ§€ μ•μ
- μ£Όλ¬Έ μƒνƒλ³„ λ¶„ν¬ λ°μ΄ν„°κ°€ λ¶μ™„μ „ν•¨

**ν•΄κ²° λ°©μ•:**
- `/api/dashboard/stats` APIλ¥Ό ν™•μ¥ν•μ—¬ μΌλ³„ ν†µκ³„ λ° μ£Όλ¬Έ μƒνƒλ³„ λ¶„ν¬ λ°μ΄ν„° μ κ³µ
- λλ” `DashboardStats` μ»΄ν¬λ„νΈλ¥Ό ν„μ¬ API μ‘λ‹µ ν•μ‹μ— λ§κ² μ™„μ „ν μμ •

**μμƒ μ μ ν–¥μƒ**: +300μ 

---

### 2. Python μ„λ²„ μ—°λ™ ν…μ¤νΈ ν•„μ” (High Priority) π”΄

**λ¬Έμ μ :**
- Python μ„λ²„(`http://localhost:8000/sync`) μ—”λ“ν¬μΈνΈκ°€ μ‹¤μ λ΅ κµ¬ν„λμ–΄ μλ”μ§€ ν™•μΈ ν•„μ”
- Python μ„λ²„κ°€ μμƒν• ν•μ‹μΌλ΅ μ‘λ‹µν•λ”μ§€ κ²€μ¦ ν•„μ”

**ν•΄κ²° λ°©μ•:**
- Python μ„λ²„ μ½”λ“ ν™•μΈ λ° μμ •
- μ‹¤μ  λ§μΌ“ν”λ μ΄μ¤ API μ—°λ™ λ΅μ§ κµ¬ν„
- μ—λ¬ μ²λ¦¬ λ° νƒ€μ„μ•„μ›ƒ μ„¤μ •

**μμƒ μ μ ν–¥μƒ**: +200μ 

---

### 3. μ•”νΈν™” λ―Έμ μ© (Medium Priority) π΅

**λ¬Έμ μ :**
- API Keyκ°€ ν‰λ¬ΈμΌλ΅ μ €μ¥λ¨ (μ½”λ“μ— μ•”νΈν™” μ¤€λΉ„λ” λμ–΄ μμΌλ‚ μ‹¤μ  μ μ© μ• λ¨)

**ν•΄κ²° λ°©μ•:**
- `src/utils/encryption.ts`μ μ•”νΈν™” ν•¨μλ¥Ό μ‹¤μ λ΅ μ‚¬μ©
- μ €μ¥ μ‹ μ•”νΈν™”, μ΅°ν μ‹ λ³µνΈν™” λ΅μ§ μ μ©

**μμƒ μ μ ν–¥μƒ**: +100μ 

---

### 4. μΌλ³„ ν†µκ³„ λ°μ΄ν„° λ¶€μ¬ (Medium Priority) π΅

**λ¬Έμ μ :**
- λ€μ‹λ³΄λ“μ "μµκ·Ό 7μΌ λ§¤μ¶ μ¶”μ΄" μ°¨νΈμ— λ°μ΄ν„°κ°€ μ—†μ

**ν•΄κ²° λ°©μ•:**
- `/api/dashboard/stats` APIμ— `start_date`, `end_date` νλΌλ―Έν„° μ§€μ› μ¶”κ°€
- μΌλ³„ ν†µκ³„ λ°μ΄ν„° κ³„μ‚° λ° λ°ν™

**μμƒ μ μ ν–¥μƒ**: +200μ 

---

### 5. μ¬κ³  μλ™ μ°¨κ° λ΅μ§ μ—†μ (Low Priority) πΆ

**λ¬Έμ μ :**
- μ£Όλ¬Έ μƒμ„± μ‹ μ¬κ³ κ°€ μλ™μΌλ΅ μ°¨κ°λμ§€ μ•μ

**ν•΄κ²° λ°©μ•:**
- `orders/sync` APIμ— μ¬κ³  μ°¨κ° λ΅μ§ μ¶”κ°€
- λλ” PostgreSQL Triggerλ΅ μλ™ μ²λ¦¬

**μμƒ μ μ ν–¥μƒ**: +100μ 

---

## π― μµμΆ… λ©ν‘ μ™„μ„±λ„

**ν„μ¬**: 8,500μ  (85%)  
**λ‚¨μ€ μ‘μ—… μ™„λ£ ν›„**: 9,400μ  (94%)  
**μµμΆ… λ©ν‘**: 10,000μ  (100%)

---

## π“ λ‹¤μ λ‹¨κ³„ κ¶μ¥μ‚¬ν•­

### μ¦‰μ‹ ν•΄κ²° (Critical)
1. β… API μ‘λ‹µ ν•μ‹ ν†µμΌ (`/api/dashboard/stats` ν™•μ¥)
2. β… Python μ„λ²„ μ—°λ™ ν…μ¤νΈ λ° μμ •

### λ‹¨κΈ° κ°μ„  (High Priority)
3. β… μ•”νΈν™” μ μ©
4. β… μΌλ³„ ν†µκ³„ λ°μ΄ν„° μ¶”κ°€

### μ¥κΈ° κ°μ„  (Medium Priority)
5. β… μ¬κ³  μλ™ μ°¨κ° λ΅μ§
6. β… μ£Όλ¬Έ μƒνƒ μλ™ μ „ν™ λ΅μ§

---

## β… κµ¬ν„ μ™„λ£ μ²΄ν¬λ¦¬μ¤νΈ

- [x] μ¤ν† μ–΄ μ—°λ™ μ„¤μ • νμ΄μ§€ κµ¬ν„
- [x] Python ν¬λ΅¤λ¬ μ—°κ²° λ΅μ§ κµ¬ν„
- [x] λ€μ‹λ³΄λ“ μ‹¤μ  λ°μ΄ν„° μ—°κ²°
- [x] μ—λ¬ μ²λ¦¬ λ° λ΅λ”© μƒνƒ κµ¬ν„
- [x] Toast μ•λ¦Ό μ‹μ¤ν… ν†µν•©
- [ ] API μ‘λ‹µ ν•μ‹ ν†µμΌ (μ§„ν–‰ μ¤‘)
- [ ] Python μ„λ²„ μ—°λ™ ν…μ¤νΈ (λ€κΈ° μ¤‘)
- [ ] μ•”νΈν™” μ μ© (λ€κΈ° μ¤‘)

---

**κ²°λ΅ **: 3λ€ ν•µμ‹¬ μ—°κ²° κ³ λ¦¬λ” λ¨λ‘ κµ¬ν„λμ—μΌλ‚, API μ‘λ‹µ ν•μ‹ ν†µμΌ λ° Python μ„λ²„ μ—°λ™ ν…μ¤νΈκ°€ λ‚¨μ•„μμµλ‹λ‹¤. μ΄λ¥Ό μ™„λ£ν•λ©΄ **94% μ™„μ„±λ„**λ¥Ό λ‹¬μ„±ν•  μ μμµλ‹λ‹¤.
