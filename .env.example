# ============================================
# K-UNIVERSAL SUPER APP ENVIRONMENT VARIABLES
# Copy this file to .env.local and fill in values
# ============================================

# ============================================
# SUPABASE - Required
# ============================================
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================
# LEMONSQUEEZY - Required for NOMAD subscription payments
# Get keys from https://app.lemonsqueezy.com/settings/api
# ============================================
LEMONSQUEEZY_API_KEY=your_api_key
LEMONSQUEEZY_STORE_ID=your_store_id
LEMONSQUEEZY_WEBHOOK_SECRET=your_webhook_secret

# LemonSqueezy Variant IDs (create products in LemonSqueezy Dashboard)
# Monthly variants
LEMONSQUEEZY_VARIANT_EXPLORER_MONTHLY=123456
LEMONSQUEEZY_VARIANT_TRAVELER_MONTHLY=123457
LEMONSQUEEZY_VARIANT_NOMAD_MONTHLY=123458
LEMONSQUEEZY_VARIANT_BUSINESS_MONTHLY=123459
# Yearly variants
LEMONSQUEEZY_VARIANT_EXPLORER_YEARLY=123460
LEMONSQUEEZY_VARIANT_TRAVELER_YEARLY=123461
LEMONSQUEEZY_VARIANT_NOMAD_YEARLY=123462
LEMONSQUEEZY_VARIANT_BUSINESS_YEARLY=123463

# ============================================
# TOSS PAYMENTS - Required for Korean payments
# Get keys from https://developers.tosspayments.com
# ============================================
# Client key (safe for browser)
NEXT_PUBLIC_TOSS_CLIENT_KEY=test_ck_xxxxxxxxxxxxxxxx
# Secret key (server only - NEVER expose)
TOSS_SECRET_KEY=test_sk_xxxxxxxxxxxxxxxx
# Webhook secret for verifying Toss webhooks
TOSS_WEBHOOK_SECRET=your-webhook-secret

# ============================================
# PUSH NOTIFICATIONS (VAPID Keys)
# Generate with: npx ts-node scripts/generate-vapid-keys.ts
# ============================================
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key

# ============================================
# AI / OPENAI - For AI Concierge
# ============================================
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxx

# ============================================
# APPLICATION CONFIG
# ============================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development

# ============================================
# STAY22 - Hotel Affiliate API
# ============================================
STAY22_API_KEY=your-stay22-api-key
STAY22_AFFILIATE_ID=k-universal

# ============================================
# NAVER PRICE CRAWLING
# ============================================
# Secret for Vercel Cron authentication
CRON_SECRET=your-cron-secret

# Admin notification webhook (Slack/Discord)
ADMIN_NOTIFICATION_WEBHOOK=https://hooks.slack.com/services/xxx

# ============================================
# EXTERNAL SERVICES (Optional)
# ============================================
# Sentry for error tracking
NEXT_PUBLIC_SENTRY_DSN=https://xxx@sentry.io/xxx
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# Analytics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# ============================================
# WEBHOOK URLs (Optional)
# ============================================
# Slack webhook for notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx

# ============================================
# RATE LIMITING (Optional)
# ============================================
# Redis URL for production rate limiting
REDIS_URL=redis://localhost:6379

# ============================================
# NOTES
# ============================================
# 1. Never commit .env or .env.local to git
# 2. Use Vercel Environment Variables for production
# 3. Rotate keys regularly
# 4. Use separate keys for development and production
# 5. Run migrations after setting up Supabase:
#    - supabase/migrations/022_k_universal_super_app.sql
#    - supabase/migrations/023_nomad_subscriptions.sql
# 6. LemonSqueezy setup steps:
#    - Create store at https://app.lemonsqueezy.com
#    - Create products (Explorer, Traveler, Nomad, Business)
#    - Create monthly and yearly variants for each product
#    - Copy variant IDs to environment variables
#    - Register webhook endpoint: https://your-domain.com/api/lemonsqueezy/webhook
#    - Webhook events: subscription_created, subscription_updated, etc.
