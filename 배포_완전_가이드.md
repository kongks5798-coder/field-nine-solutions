# 🎯 TrendStream 배포 완전 가이드 (초보자용)

## 📌 시작하기 전에

이 가이드는 **초등학생도 따라할 수 있도록** 매우 상세하게 작성되었습니다.
각 단계를 **순서대로** 하나씩 따라하시면 됩니다!

---

## 🎬 1단계: Vercel 계정 만들기 (처음 한 번만)

### 1-1. Vercel 웹사이트 열기
1. 컴퓨터에서 **인터넷 브라우저**를 엽니다 (Chrome, Edge, Firefox 등)
2. 주소창에 다음을 입력합니다: `vercel.com`
3. **Enter** 키를 누릅니다

### 1-2. 회원가입하기
1. 화면 오른쪽 위에 있는 **"Sign Up"** 버튼을 찾습니다
2. **"Sign Up"** 버튼을 클릭합니다
3. **"Continue with GitHub"** 버튼을 클릭합니다
   - (GitHub 계정이 없으면 먼저 GitHub.com에서 계정을 만드세요)
4. GitHub 로그인 화면이 나타나면:
   - GitHub 아이디와 비밀번호를 입력합니다
   - **"Sign in"** 버튼을 클릭합니다
5. Vercel이 GitHub 접근 권한을 요청하면:
   - **"Authorize Vercel"** 버튼을 클릭합니다

✅ **성공 확인:** Vercel 대시보드 화면이 나타나면 성공입니다!

---

## 🎬 2단계: 프로젝트 연결하기

### 2-1. 새 프로젝트 만들기
1. Vercel 대시보드 화면에서
2. 화면 중앙에 있는 **"Add New..."** 버튼을 클릭합니다
3. 드롭다운 메뉴에서 **"Project"**를 선택합니다

### 2-2. GitHub 저장소 찾기
1. **"Import Git Repository"** 섹션이 보입니다
2. 여기서 **"field-nine-solutions"** 프로젝트를 찾습니다
3. 찾지 못하면:
   - **"Adjust GitHub App Permissions"** 링크를 클릭
   - 저장소 접근 권한을 허용
   - 다시 시도

### 2-3. 프로젝트 Import
1. **"field-nine-solutions"** 프로젝트 옆에 있는 **"Import"** 버튼을 클릭합니다

### 2-4. 프로젝트 설정 확인
다음 화면에서 설정을 확인합니다 (대부분 자동으로 설정됨):

- **Framework Preset:** `Next.js` ✅
- **Root Directory:** `.` (점 하나) ✅
- **Build Command:** `npm run build` ✅
- **Output Directory:** `.next` ✅
- **Install Command:** `npm install` ✅

⚠️ **중요:** 아직 **"Deploy"** 버튼을 누르지 마세요!

---

## 🎬 3단계: 환경 변수 설정하기 (가장 중요!)

### 3-1. 환경 변수 화면으로 이동
1. 프로젝트 설정 화면에서
2. 왼쪽 메뉴를 보면 여러 옵션이 있습니다
3. **"Environment Variables"**를 클릭합니다
   - 또는 화면을 아래로 스크롤해서 **"Environment Variables"** 섹션을 찾습니다

### 3-2. Supabase 정보 준비하기

환경 변수를 추가하기 전에 Supabase 정보가 필요합니다.

#### Supabase 계정이 없다면:
1. 새 브라우저 탭을 엽니다
2. `supabase.com` 접속
3. **"Start your project"** 클릭
4. GitHub로 로그인
5. **"New Project"** 클릭
6. 프로젝트 이름 입력 (예: "trendstream")
7. 데이터베이스 비밀번호 설정 (기억해두세요!)
8. **"Create new project"** 클릭
9. 프로젝트 생성 완료까지 2-3분 대기

#### Supabase 정보 가져오기:
1. Supabase 대시보드에서
2. 왼쪽 메뉴에서 **"Settings"** (톱니바퀴 아이콘) 클릭
3. **"API"** 메뉴 클릭
4. 다음 두 가지를 복사합니다:
   - **Project URL:** `https://xxxxx.supabase.co` (복사)
   - **anon public 키:** 긴 문자열 (복사)

### 3-3. 환경 변수 추가하기

이제 Vercel로 돌아가서 환경 변수를 추가합니다.

#### 변수 1: NEXT_PUBLIC_SUPABASE_URL
1. **"Key"** 입력란에 정확히 입력: `NEXT_PUBLIC_SUPABASE_URL`
2. **"Value"** 입력란에 Supabase Project URL 붙여넣기
   - 예: `https://abcdefghijklmnop.supabase.co`
3. **"Environment"** 체크박스 3개 모두 체크:
   - ✅ Production
   - ✅ Preview  
   - ✅ Development
4. **"Add"** 버튼을 클릭합니다
5. 변수가 목록에 추가되었는지 확인합니다 ✅

#### 변수 2: NEXT_PUBLIC_SUPABASE_ANON_KEY
1. **"Key"** 입력란에 정확히 입력: `NEXT_PUBLIC_SUPABASE_ANON_KEY`
2. **"Value"** 입력란에 Supabase anon public 키 붙여넣기
   - (Supabase Settings → API에서 복사한 긴 문자열)
3. **"Environment"** 체크박스 3개 모두 체크:
   - ✅ Production
   - ✅ Preview
   - ✅ Development
4. **"Add"** 버튼을 클릭합니다
5. 변수가 목록에 추가되었는지 확인합니다 ✅

#### 변수 3: PYTHON_BACKEND_URL
1. **"Key"** 입력란에 정확히 입력: `PYTHON_BACKEND_URL`
2. **"Value"** 입력란에 입력:
   - 로컬 개발용: `http://localhost:8000`
   - 또는 실제 Python 서버 URL
3. **"Environment"** 체크박스 3개 모두 체크:
   - ✅ Production
   - ✅ Preview
   - ✅ Development
4. **"Add"** 버튼을 클릭합니다
5. 변수가 목록에 추가되었는지 확인합니다 ✅

### 3-4. 최종 확인
환경 변수 목록에 다음 3개가 모두 보여야 합니다:
- ✅ NEXT_PUBLIC_SUPABASE_URL
- ✅ NEXT_PUBLIC_SUPABASE_ANON_KEY
- ✅ PYTHON_BACKEND_URL

각 변수 옆에 **Production, Preview, Development**가 모두 표시되어 있어야 합니다.

---

## 🎬 4단계: Supabase 데이터베이스 설정하기

### 4-1. SQL Editor 열기
1. Supabase 대시보드로 돌아갑니다
2. 왼쪽 메뉴에서 **"SQL Editor"** 클릭
3. **"New query"** 버튼을 클릭합니다

### 4-2. 첫 번째 스키마 실행
1. 컴퓨터에서 프로젝트 폴더를 엽니다
2. `supabase` 폴더를 찾습니다
3. `schema.sql` 파일을 엽니다 (메모장이나 VS Code로)
4. 파일 내용 **전체**를 선택합니다 (Ctrl+A)
5. 복사합니다 (Ctrl+C)
6. Supabase SQL Editor로 돌아갑니다
7. 빈 화면에 붙여넣습니다 (Ctrl+V)
8. **"Run"** 버튼을 클릭합니다
9. ✅ 성공 메시지가 나타나면 완료!

### 4-3. 두 번째 스키마 실행
1. Supabase SQL Editor에서
2. **"New query"** 버튼을 다시 클릭합니다
3. 프로젝트 폴더에서 `supabase/schema_subscriptions.sql` 파일을 엽니다
4. 파일 내용 **전체**를 선택합니다 (Ctrl+A)
5. 복사합니다 (Ctrl+C)
6. Supabase SQL Editor의 새 쿼리 화면에 붙여넣습니다 (Ctrl+V)
7. **"Run"** 버튼을 클릭합니다
8. ✅ 성공 메시지가 나타나면 완료!

---

## 🎬 5단계: 배포 실행하기

### 5-1. Vercel로 돌아가기
1. Vercel 프로젝트 설정 화면으로 돌아갑니다
2. 브라우저 탭을 전환하거나 Vercel.com을 다시 엽니다

### 5-2. 최종 확인
1. 환경 변수가 모두 추가되었는지 다시 확인합니다
2. 각 변수의 Environment가 모두 체크되어 있는지 확인합니다

### 5-3. 배포 시작
1. 화면 맨 아래로 스크롤합니다
2. **"Deploy"** 버튼을 찾습니다
3. **"Deploy"** 버튼을 클릭합니다

### 5-4. 배포 진행 상황 보기
1. 배포가 시작되면 진행 상황이 표시됩니다
2. 다음 단계들이 순서대로 진행됩니다:
   - 📦 **Installing dependencies** (의존성 설치 중...)
   - 🔨 **Building** (빌드 중...)
   - 🚀 **Deploying** (배포 중...)
3. 약 **2-5분** 정도 걸립니다
4. ⏳ 기다리는 동안 다른 일을 하셔도 됩니다!

### 5-5. 배포 완료 확인
1. 배포가 완료되면 **"Visit"** 버튼이 나타납니다
2. **"Visit"** 버튼을 클릭합니다
3. 🎉 사이트가 열리면 성공입니다!

---

## 🎬 6단계: 배포 확인하기

### 6-1. 헬스 체크
1. 배포된 사이트 URL을 복사합니다
   - 예: `https://field-nine-solutions-xxxxx.vercel.app`
2. URL 끝에 `/api/health`를 추가합니다
   - 예: `https://field-nine-solutions-xxxxx.vercel.app/api/health`
3. 브라우저에서 이 URL을 엽니다
4. 다음과 같은 JSON이 나타나면 성공:
   ```json
   {
     "status": "healthy",
     "timestamp": "...",
     "services": {
       "database": "healthy",
       "python_backend": "healthy"
     }
   }
   ```

### 6-2. 랜딩 페이지 확인
1. 배포된 사이트 URL을 엽니다
2. TrendStream 랜딩 페이지가 나타나면 성공 ✅

### 6-3. 대시보드 확인
1. URL 끝에 `/dashboard`를 추가합니다
2. 로그인 페이지가 나타나면 성공 ✅

---

## 🚨 문제 해결하기

### 문제 1: "Environment Variable not found" 오류

**증상:**
- 배포가 실패하고 환경 변수 오류 메시지가 나타남

**해결 방법:**
1. Vercel 대시보드 → 프로젝트 → Settings → Environment Variables
2. 모든 환경 변수가 추가되었는지 확인
3. 각 변수의 Environment 체크박스가 **모두** 체크되어 있는지 확인
4. 변수를 삭제하고 다시 추가해보기

### 문제 2: "Build failed" 오류

**증상:**
- 빌드 단계에서 실패

**해결 방법:**
1. Vercel 대시보드에서:
   - 프로젝트 → Deployments → 최신 배포 클릭 → Logs 탭
2. 오류 메시지를 읽어봅니다
3. 로컬에서 테스트:
   ```bash
   npm install
   npm run build
   ```
4. 오류가 나면 오류 메시지를 확인하고 수정

### 문제 3: "Supabase connection error"

**증상:**
- 사이트는 열리지만 데이터베이스 연결 오류

**해결 방법:**
1. Supabase 프로젝트가 활성화되어 있는지 확인
2. 환경 변수 값이 올바른지 확인:
   - `NEXT_PUBLIC_SUPABASE_URL`이 정확한 URL인지
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`가 정확한 키인지
3. Supabase 대시보드에서 프로젝트 상태 확인

### 문제 4: "Page not found" (404 오류)

**증상:**
- 사이트는 열리지만 페이지를 찾을 수 없음

**해결 방법:**
1. Vercel 대시보드 → 프로젝트 → Settings → General
2. **"Framework Preset"**이 **"Next.js"**로 설정되어 있는지 확인
3. **"Root Directory"**가 **`.`** (점 하나)로 설정되어 있는지 확인

### 문제 5: 배포가 계속 실패함

**해결 방법:**
1. Vercel 로그를 자세히 확인:
   - Deployments → 최신 배포 → Logs
2. 오류 메시지의 첫 번째 줄을 읽어봅니다
3. 오류 메시지를 복사해서 검색해봅니다
4. 여전히 해결되지 않으면:
   - 프로젝트를 삭제하고 처음부터 다시 시작
   - 또는 Vercel 지원팀에 문의

---

## 📋 최종 체크리스트

배포 전에 이것들을 모두 확인하세요:

- [ ] Vercel 계정 생성 완료
- [ ] GitHub 저장소 연결 완료
- [ ] 환경 변수 3개 모두 추가 완료
  - [ ] NEXT_PUBLIC_SUPABASE_URL
  - [ ] NEXT_PUBLIC_SUPABASE_ANON_KEY
  - [ ] PYTHON_BACKEND_URL
- [ ] 각 환경 변수의 Environment가 모두 체크됨
- [ ] Supabase 프로젝트 생성 완료
- [ ] Supabase 스키마 2개 실행 완료
  - [ ] schema.sql 실행 완료
  - [ ] schema_subscriptions.sql 실행 완료
- [ ] 배포 버튼 클릭 완료
- [ ] 배포 성공 확인 완료

---

## 💡 팁

1. **환경 변수는 대소문자를 정확히 입력해야 합니다**
   - `NEXT_PUBLIC_SUPABASE_URL` ✅
   - `next_public_supabase_url` ❌

2. **Environment 체크박스는 모두 체크해야 합니다**
   - Production, Preview, Development 모두 ✅

3. **Supabase 키를 복사할 때 공백이 들어가지 않도록 주의하세요**

4. **배포는 2-5분 정도 걸립니다. 기다려주세요!**

---

## 🆘 여전히 문제가 있나요?

1. **Vercel 로그 확인:**
   - Vercel 대시보드 → 프로젝트 → Deployments → 최신 배포 → Logs

2. **로컬 빌드 테스트:**
   ```bash
   npm install
   npm run build
   ```

3. **환경 변수 재확인:**
   - Vercel → Settings → Environment Variables
   - 모든 변수가 Production, Preview, Development에 모두 설정되어 있는지 확인

---

**보스, 이 가이드를 따라하시면 반드시 배포가 완료됩니다!** 🚀

**궁금한 점이 있으면 언제든 물어보세요!**
