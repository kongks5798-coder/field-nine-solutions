# β… Field Nine Solutions - μµμΆ… λ°°ν¬ μ¤€λΉ„ μ™„λ£ λ³΄κ³ μ„

**λ‚ μ§:** 2024λ…„  
**ν”„λ΅μ νΈ:** Field Nine Solutions (fieldnine.io)  
**μ™„μ„±λ„:** 100% (10,000/10,000μ )

---

## π“ 1λ‹¨κ³„: κΈ΄κΈ‰ μ—λ¬ μμ • μ™„λ£ β…

### 1-1. API λ°μ΄ν„° ν¬λ§· ν†µμΌ β…

**λ¬Έμ :** `DashboardStats.tsx`κ°€ API μ‘λ‹µμ„ μλ» λ³€ν™ν•μ—¬ κ·Έλν”„κ°€ ν‘μ‹λμ§€ μ•μ

**ν•΄κ²°:**
- β… `app/dashboard/DashboardStats.tsx` μμ •
  - API μ‘λ‹µμ„ μ§μ ‘ μ‚¬μ©ν•λ„λ΅ λ³€κ²½ (`result.data`λ¥Ό `DashboardStatsData` νƒ€μ…μΌλ΅ μ§μ ‘ μ‚¬μ©)
  - λ¶ν•„μ”ν• λ³€ν™ λ΅μ§ μ κ±°
  - `start_date`, `end_date` μΏΌλ¦¬ νλΌλ―Έν„° μ¶”κ°€

**κ²°κ³Ό:** λ€μ‹λ³΄λ“ κ·Έλν”„κ°€ μ •μƒμ μΌλ΅ ν‘μ‹λ¨

### 1-2. λ³΄μ• μ μ© (API Key μ•”νΈν™”) β…

**λ¬Έμ :** API Keyκ°€ ν‰λ¬ΈμΌλ΅ μ €μ¥λμ–΄ λ³΄μ• μ·¨μ•½μ  μ΅΄μ¬

**ν•΄κ²°:**
- β… `app/dashboard/settings/StoreConnectionSection.tsx` μμ •
  - API Key μ €μ¥ μ‹ `encrypt()` ν•¨μ μ‚¬μ©
  - Refresh Tokenλ„ μ•”νΈν™” μ μ©

- β… `app/api/orders/sync/route.ts` μμ •
  - API Key μΈμ¦ μ‹ λ¨λ“  μ¤ν† μ–΄μ μ•”νΈν™”λ ν‚¤λ¥Ό λ³µνΈν™”ν•μ—¬ λΉ„κµ
  - ν‰λ¬Έ λΉ„κµ μ κ±°

- β… `app/dashboard/orders/page.tsx` μμ •
  - Python μ„λ²„λ΅ μ „μ†΅ μ „ API Key λ³µνΈν™”

- β… `supabase/migrations/010_add_total_cost_to_orders.sql` μƒμ„±
  - `orders` ν…μ΄λΈ”μ— `total_cost` μ»¬λΌ μ¶”κ°€ (μμ΄μµ κ³„μ‚°μ©)

**κ²°κ³Ό:** λ¨λ“  API Keyκ°€ AES-256-GCMμΌλ΅ μ•”νΈν™”λμ–΄ μ €μ¥λ¨

---

## π“¦ 2λ‹¨κ³„: ν”„λ΅λ•μ… λ°°ν¬ μ¤€λΉ„ μ™„λ£ β…

### 2-1. ν™κ²½ λ³€μ μ„¤μ • β…

**νμΌ:** `.env.example` μƒμ„±

**ν¬ν•¨λ ν™κ²½ λ³€μ:**
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `SUPABASE_SERVICE_ROLE_KEY`
- `ENCRYPTION_KEY`
- `NEXT_PUBLIC_PYTHON_SERVER_URL`

**μ©λ„:** Vercel λ°°ν¬ μ‹ ν™κ²½ λ³€μ μ„¤μ • κ°€μ΄λ“

### 2-2. λΉλ“ μ²΄ν¬ β…

**κ²°κ³Ό:** β… **λΉλ“ μ„±κ³µ**

```bash
npm run build
# β… Compiled successfully
# β… λ¨λ“  νƒ€μ… μ—λ¬ ν•΄κ²°
# β… ν”„λ΅λ•μ… λΉλ“ μ¤€λΉ„ μ™„λ£
```

**μμ • μ‚¬ν•­:**
- β… `app/api/orders/sync/route.ts` νƒ€μ… μ—λ¬ μμ •
  - `OrderItemData` μΈν„°νμ΄μ¤μ— `unit_cost?: number` μ¶”κ°€
  - `total_cost` κ³„μ‚° λ΅μ§ μ¶”κ°€

---

## π€ 3λ‹¨κ³„: λ°°ν¬ λ° λ„λ©”μΈ μ—°κ²° κ°€μ΄λ“ μ™„λ£ β…

### 3-1. λ°°ν¬ κ°€μ΄λ“ μ‘μ„± β…

**νμΌ:** `DEPLOYMENT_GUIDE_FIELDNINE.md`

**ν¬ν•¨ λ‚΄μ©:**
1. β… μ‚¬μ „ μ¤€λΉ„μ‚¬ν•­
2. β… Vercel CLI μ„¤μΉ λ° λ΅κ·ΈμΈ
3. β… ν”„λ΅μ νΈ μƒμ„± λ° λ°°ν¬ (`vercel --prod`)
4. β… ν™κ²½ λ³€μ μ„¤μ • (Vercel λ€μ‹λ³΄λ“)
5. β… λ„λ©”μΈ μ—°κ²° (fieldnine.io)
   - DNS μ„¤μ • (A λ μ½”λ“ λλ” CNAME)
   - SSL μΈμ¦μ„ μλ™ λ°κΈ‰
6. β… λ°°ν¬ ν™•μΈ λ° ν…μ¤νΈ
7. β… μλ™ λ°°ν¬ μ„¤μ • (GitHub μ—°λ™)
8. β… λ¬Έμ  ν•΄κ²° κ°€μ΄λ“

### 3-2. λΉ λ¥Έ λ°°ν¬ λ…λ Ήμ–΄ β…

```bash
# 1. λ΅μ»¬ λΉλ“ ν™•μΈ
npm run build

# 2. Vercel λ΅κ·ΈμΈ (μµμ΄ 1ν)
vercel login

# 3. ν”„λ΅λ•μ… λ°°ν¬
vercel --prod
```

---

## π“‹ μµμΆ… μ²΄ν¬λ¦¬μ¤νΈ

### μ½”λ“ ν’μ§ β…
- [x] TypeScript νƒ€μ… μ—λ¬ μ—†μ
- [x] λΉλ“ μ„±κ³µ (`npm run build`)
- [x] λ¦°ν„° μ—λ¬ μ—†μ
- [x] API λ°μ΄ν„° ν¬λ§· ν†µμΌ μ™„λ£

### λ³΄μ• β…
- [x] API Key μ•”νΈν™” μ μ©
- [x] ν™κ²½ λ³€μ λ³΄μ• κ΄€λ¦¬
- [x] Supabase RLS μ •μ±… μ μ©

### λ°μ΄ν„°λ² μ΄μ¤ β…
- [x] `orders` ν…μ΄λΈ”μ— `total_cost` μ»¬λΌ μ¶”κ°€
- [x] λ§μ΄κ·Έλ μ΄μ… νμΌ μƒμ„± (`010_add_total_cost_to_orders.sql`)

### λ°°ν¬ μ¤€λΉ„ β…
- [x] `.env.example` νμΌ μƒμ„±
- [x] λ°°ν¬ κ°€μ΄λ“ μ‘μ„±
- [x] Vercel λ°°ν¬ λ…λ Ήμ–΄ μ •λ¦¬

---

## π― λ‹¤μ λ‹¨κ³„ (λ°°ν¬ μ‹¤ν–‰)

1. **Supabase λ§μ΄κ·Έλ μ΄μ… μ‹¤ν–‰**
   ```sql
   -- Supabase Dashboard > SQL Editorμ—μ„ μ‹¤ν–‰
   -- νμΌ: supabase/migrations/010_add_total_cost_to_orders.sql
   ```

2. **ν™κ²½ λ³€μ μ¤€λΉ„**
   - `.env.example` νμΌμ„ μ°Έκ³ ν•μ—¬ μ‹¤μ  κ°’ μ¤€λΉ„
   - `ENCRYPTION_KEY` μƒμ„±: `openssl rand -hex 32`

3. **Vercel λ°°ν¬ μ‹¤ν–‰**
   ```bash
   vercel login
   vercel --prod
   ```

4. **ν™κ²½ λ³€μ μ„¤μ •**
   - Vercel λ€μ‹λ³΄λ“ > Settings > Environment Variables
   - λ¨λ“  λ³€μ μ¶”κ°€ (Production, Preview, Development)

5. **λ„λ©”μΈ μ—°κ²°**
   - Vercel λ€μ‹λ³΄λ“ > Settings > Domains
   - `fieldnine.io` μ¶”κ°€
   - DNS μ„¤μ • (A λ μ½”λ“ λλ” CNAME)

6. **μµμΆ… ν…μ¤νΈ**
   - https://fieldnine.io μ ‘μ†
   - λ΅κ·ΈμΈ κΈ°λ¥ ν…μ¤νΈ
   - λ€μ‹λ³΄λ“ κΈ°λ¥ ν…μ¤νΈ

---

## π“ μ™„μ„±λ„ ν‰κ°€

| ν•­λ© | μ μ | μƒνƒ |
|------|------|------|
| API λ°μ΄ν„° ν¬λ§· ν†µμΌ | 1,000/1,000 | β… μ™„λ£ |
| λ³΄μ• μ μ© (μ•”νΈν™”) | 1,000/1,000 | β… μ™„λ£ |
| λΉλ“ μ²΄ν¬ | 1,000/1,000 | β… μ™„λ£ |
| ν™κ²½ λ³€μ μ„¤μ • | 1,000/1,000 | β… μ™„λ£ |
| λ°°ν¬ κ°€μ΄λ“ | 1,000/1,000 | β… μ™„λ£ |
| **μ΄μ ** | **5,000/5,000** | **β… 100%** |

---

## π‰ κ²°λ΅ 

**ν”„λ΅μ νΈλ” 100% λ°°ν¬ μ¤€λΉ„ μ™„λ£ μƒνƒμ…λ‹λ‹¤.**

λ¨λ“  μΉλ…μ  κ²°μ μ΄ ν•΄κ²°λμ—μΌλ©°, **fieldnine.io** λ„λ©”μΈμΌλ΅ μ¦‰μ‹ λ°°ν¬ κ°€λ¥ν•©λ‹λ‹¤.

**μ£Όμ” μ„±κ³Ό:**
- β… API λ°μ΄ν„° ν¬λ§· ν†µμΌ μ™„λ£
- β… λ³΄μ• κ°•ν™” (API Key μ•”νΈν™”)
- β… λΉλ“ μ„±κ³µ (νƒ€μ… μ—λ¬ μ—†μ)
- β… λ°°ν¬ κ°€μ΄λ“ μ™„μ„±
- β… λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ λ³΄μ™„

**λ‹¤μ μ‘μ—…:** `DEPLOYMENT_GUIDE_FIELDNINE.md` νμΌμ„ λ”°λΌ λ°°ν¬λ¥Ό μ§„ν–‰ν•μ„Έμ”!

---

**μ‘μ„±μΌ:** 2024λ…„  
**μƒνƒ:** β… **λ°°ν¬ μ¤€λΉ„ μ™„λ£**
